<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0"
    >
    <meta
        http-equiv="X-UA-Compatible"
        content="ie=edge"
    >
    <title>陣列進階操作 filter()</title>
    <link
        rel="stylesheet"
        href="./css/normalize.css"
    >
    <link
        rel="stylesheet"
        href="./css/02-11.css"
    >
</head>

<body>


    <div id="app">
        <ul class="tit_select">
            <li></li>
            <li>
                <select id="user_money">
                    <option value="0">Select Money</option>
                    <option value="300">Greater than 300</option>
                    <option value="700">Greater than 700</option>
                    <option value="10000">Greater than 10000</option>
                </select>
            </li>
            <li>
                <select id="user_age">
                    <option value="0">Select Age</option>
                    <option value="10">Older than 10</option>
                    <option value="20">Older than 20</option>
                    <option value="30">Older than 30</option>
                </select>
            </li>
            <li>
                <select id="user_sex">
                    <option value="no">Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
            </li>
        </ul>
        <ul class="tit">
            <li>Name</li>
            <li>Account Money</li>
            <li>Age</li>
            <li>Gender</li>
        </ul>
        <div class="itemList">
            <!-- <ul class="tit2">
                <li>John</li>
                <li>12000</li>
                <li>12</li>
                <li>Male</li>
            </ul> -->
        </div>
    </div>




    <script src="./js/data.js"></script>
    <script>

        //請把剛剛範例改成用filter

        var itemList = document.getElementsByClassName("itemList")[0];
        var user_money = document.getElementById("user_money");
        var user_age = document.getElementById("user_age");
        var user_sex = document.getElementById("user_sex");
        var html = "";
        var newData = data;

        //畫面渲染
        function DOMReader(arr) {
            html = '';
            itemList.innerHTML = '';
            arr.forEach(function (obj) {
                html += '<ul class="tit2">'
                html += '<li>' + obj.name + '</li>'
                html += '<li>' + obj.money + '</li>'
                html += '<li>' + obj.age + '</li>'
                html += '<li>' + obj.sex + '</li>'
                html += '</ul>'
            })
            itemList.innerHTML = html;
        }

        DOMReader(newData);

        // 選擇錢的處理
        function userMoney(value) {
            var m = Number(value);
            var arr = [];

            // filter

            DOMReader(arr);
        }

        // 選擇年齡的處理
        function userAge(value) {
            var m = Number(value);
            var arr = [];

            // filter

            DOMReader(arr);
        }

        // 選擇性別的處理
        function userSex(value) {
            var arr = [];

            // filter

            DOMReader(arr);
        }

        user_money.addEventListener('change', function () {
            userMoney(this.value);
        });
        user_age.addEventListener('change', function () {
            userAge(this.value);
        });
        user_sex.addEventListener('change', function () {
            userSex(this.value)
        });

        DOMrender();



    </script>

</body>

</html>